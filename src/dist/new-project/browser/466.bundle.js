"use strict";(self.webpackChunknew_project=self.webpackChunknew_project||[]).push([[466],{9466:(T,i,a)=>{a.r(i),a.d(i,{PostUpdateComponent:()=>y});var e=a(7435),u=a(6968),m=a(980),l=a(6354),p=a(9543),n=a(9417),v=a(2374),h=a(2140),c=a(956),d=a(9702);let f=(()=>{class o{createPostFormGroup(t={id:null}){const s=this.convertPostToPostRawValue({...this.getFormDefaults(),...t});return new n.gE({id:new n.MJ({value:s.id,disabled:!0},{nonNullable:!0,validators:[n.k0.required]}),title:new n.MJ(s.title),content:new n.MJ(s.content),createdDate:new n.MJ(s.createdDate),userPost:new n.MJ(s.userPost)})}getPost(t){return this.convertPostRawValueToPost(t.getRawValue())}resetForm(t,s){const r=this.convertPostToPostRawValue({...this.getFormDefaults(),...s});t.reset({...r,id:{value:r.id,disabled:!0}})}getFormDefaults(){return{id:null,createdDate:(0,c.A)()}}convertPostRawValueToPost(t){return{...t,createdDate:(0,c.A)(t.createdDate,d.B)}}convertPostToPostRawValue(t){return{...t,createdDate:t.createdDate?t.createdDate.format(d.B):void 0}}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var E=a(6186),j=a(651),P=a(8300);function S(o,F){1&o&&(e.EFF(0,"\n          "),e.j41(1,"div",4),e.EFF(2,"\n            "),e.j41(3,"label",21),e.EFF(4,"ID"),e.k0s(),e.EFF(5,"\n            "),e.nrm(6,"input",22),e.EFF(7,"\n          "),e.k0s(),e.EFF(8,"\n        ")),2&o&&(e.R7$(6),e.Y8G("readonly",!0))}function b(o,F){if(1&o&&(e.EFF(0,"\n              "),e.j41(1,"option",14),e.EFF(2),e.k0s(),e.EFF(3,"\n            ")),2&o){const t=F.$implicit;e.R7$(),e.Y8G("ngValue",t),e.R7$(),e.JRh(t.login)}}let y=(()=>{class o{constructor(){this.isSaving=!1,this.post=null,this.usersSharedCollection=[],this.postService=(0,e.WQX)(h.K),this.postFormService=(0,e.WQX)(f),this.userService=(0,e.WQX)(v.D),this.activatedRoute=(0,e.WQX)(u.nX),this.editForm=this.postFormService.createPostFormGroup(),this.compareUser=(t,s)=>this.userService.compareUser(t,s)}ngOnInit(){this.activatedRoute.data.subscribe(({post:t})=>{this.post=t,t&&this.updateForm(t),this.loadRelationshipsOptions()})}previousState(){window.history.back()}save(){this.isSaving=!0;const t=this.postFormService.getPost(this.editForm);this.subscribeToSaveResponse(null!==t.id?this.postService.update(t):this.postService.create(t))}subscribeToSaveResponse(t){t.pipe((0,m.j)(()=>this.onSaveFinalize())).subscribe({next:()=>this.onSaveSuccess(),error:()=>this.onSaveError()})}onSaveSuccess(){this.previousState()}onSaveError(){}onSaveFinalize(){this.isSaving=!1}updateForm(t){this.post=t,this.postFormService.resetForm(this.editForm,t),this.usersSharedCollection=this.userService.addUserToCollectionIfMissing(this.usersSharedCollection,t.userPost)}loadRelationshipsOptions(){this.userService.query().pipe((0,l.T)(t=>t.body??[])).pipe((0,l.T)(t=>this.userService.addUserToCollectionIfMissing(t,this.post?.userPost))).subscribe(t=>this.usersSharedCollection=t)}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["jhi-post-update"]],decls:77,vars:5,consts:[[1,"d-flex","justify-content-center"],[1,"col-8"],["name","editForm","novalidate","",3,"ngSubmit","formGroup"],["id","jhi-post-heading","data-cy","PostCreateUpdateHeading","jhiTranslate","newProjectApp.post.home.createOrEditLabel"],[1,"mb-3"],["for","field_title","jhiTranslate","newProjectApp.post.title",1,"form-label"],["type","text","name","title","id","field_title","data-cy","title","formControlName","title",1,"form-control"],["for","field_content","jhiTranslate","newProjectApp.post.content",1,"form-label"],["type","text","name","content","id","field_content","data-cy","content","formControlName","content",1,"form-control"],["for","field_createdDate","jhiTranslate","newProjectApp.post.createdDate",1,"form-label"],[1,"d-flex"],["id","field_createdDate","data-cy","createdDate","type","datetime-local","name","createdDate","formControlName","createdDate","placeholder","YYYY-MM-DD HH:mm",1,"form-control"],["for","field_userPost","jhiTranslate","newProjectApp.post.userPost",1,"form-label"],["id","field_userPost","data-cy","userPost","name","userPost","formControlName","userPost",1,"form-control",3,"compareWith"],[3,"ngValue"],["type","button","id","cancel-save","data-cy","entityCreateCancelButton",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit","id","save-entity","data-cy","entityCreateSaveButton",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"],["for","field_id","jhiTranslate","newProjectApp.post.id",1,"form-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"]],template:function(s,r){1&s&&(e.j41(0,"div",0),e.EFF(1,"\n  "),e.j41(2,"div",1),e.EFF(3,"\n    "),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return r.save()}),e.EFF(5,"\n      "),e.j41(6,"h2",3),e.EFF(7,"\n        Crear o editar Post\n      "),e.k0s(),e.EFF(8,"\n\n      "),e.j41(9,"div"),e.EFF(10,"\n        "),e.nrm(11,"jhi-alert-error"),e.EFF(12,"\n\n        "),e.DNE(13,S,9,1),e.j41(14,"div",4),e.EFF(15,"\n          "),e.j41(16,"label",5),e.EFF(17,"Title"),e.k0s(),e.EFF(18,"\n          "),e.nrm(19,"input",6),e.EFF(20,"\n        "),e.k0s(),e.EFF(21,"\n\n        "),e.j41(22,"div",4),e.EFF(23,"\n          "),e.j41(24,"label",7),e.EFF(25,"Content"),e.k0s(),e.EFF(26,"\n          "),e.nrm(27,"input",8),e.EFF(28,"\n        "),e.k0s(),e.EFF(29,"\n\n        "),e.j41(30,"div",4),e.EFF(31,"\n          "),e.j41(32,"label",9),e.EFF(33,"Created Date"),e.k0s(),e.EFF(34,"\n          "),e.j41(35,"div",10),e.EFF(36,"\n            "),e.nrm(37,"input",11),e.EFF(38,"\n          "),e.k0s(),e.EFF(39,"\n        "),e.k0s(),e.EFF(40,"\n\n        "),e.j41(41,"div",4),e.EFF(42,"\n          "),e.j41(43,"label",12),e.EFF(44,"User Post"),e.k0s(),e.EFF(45,"\n          "),e.j41(46,"select",13),e.EFF(47,"\n            "),e.nrm(48,"option",14),e.EFF(49,"\n            "),e.Z7z(50,b,4,2,null,null,e.Vm6),e.k0s(),e.EFF(52,"\n        "),e.k0s(),e.EFF(53,"\n      "),e.k0s(),e.EFF(54,"\n\n      "),e.j41(55,"div"),e.EFF(56,"\n        "),e.j41(57,"button",15),e.bIt("click",function(){return r.previousState()}),e.EFF(58,"\n          "),e.nrm(59,"fa-icon",16),e.EFF(60,"\xa0"),e.j41(61,"span",17),e.EFF(62,"Cancelar"),e.k0s(),e.EFF(63,"\n        "),e.k0s(),e.EFF(64,"\n\n        "),e.j41(65,"button",18),e.EFF(66,"\n          "),e.nrm(67,"fa-icon",19),e.EFF(68,"\xa0"),e.j41(69,"span",20),e.EFF(70,"Guardar"),e.k0s(),e.EFF(71,"\n        "),e.k0s(),e.EFF(72,"\n      "),e.k0s(),e.EFF(73,"\n    "),e.k0s(),e.EFF(74,"\n  "),e.k0s(),e.EFF(75,"\n"),e.k0s(),e.EFF(76,"\n")),2&s&&(e.R7$(4),e.Y8G("formGroup",r.editForm),e.R7$(9),e.vxM(null!==r.editForm.controls.id.value?13:-1),e.R7$(33),e.Y8G("compareWith",r.compareUser),e.R7$(2),e.Y8G("ngValue",null),e.R7$(2),e.Dyx(r.usersSharedCollection),e.R7$(15),e.Y8G("disabled",r.editForm.invalid||r.isSaving))},dependencies:[p.A,E.aY,j.U,P.A,n.YN,n.qT,n.xH,n.y7,n.me,n.Q0,n.wz,n.BC,n.cb,n.X1,n.j4,n.JD],encapsulation:2})}}return o})()}}]);