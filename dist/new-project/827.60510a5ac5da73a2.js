"use strict";(self.webpackChunknew_project=self.webpackChunknew_project||[]).push([[827],{3208:(N,m,s)=>{s.r(m),s.d(m,{default:()=>V});var n=s(4438),F=s(8498),j=s(4572),c=s(1314),d=s(9543),f=s(4899),b=s(7578),k=s(5780),v=s(9758),_=s(2346),C=s(6160),y=s(9927),M=s(4573),u=s(6192),l=s(9417),E=s(60),g=s(651),p=s(8300);const S=i=>({login:i});function R(i,r){if(1&i){const t=n.RV6();n.EFF(0,"\n  "),n.j41(1,"form",0),n.bIt("ngSubmit",function(){n.eBV(t);const a=n.XpG();return n.Njj(a.confirmDelete(a.user.login))}),n.EFF(2,"\n    "),n.j41(3,"div",1),n.EFF(4,"\n      "),n.j41(5,"h4",2),n.EFF(6,"Confirmar operaci\xf3n de borrado"),n.k0s(),n.EFF(7,"\n    "),n.k0s(),n.EFF(8,"\n\n    "),n.j41(9,"div",3),n.EFF(10,"\n      "),n.nrm(11,"jhi-alert-error"),n.EFF(12,"\n\n      "),n.j41(13,"p",4),n.EFF(14),n.k0s(),n.EFF(15,"\n    "),n.k0s(),n.EFF(16,"\n\n    "),n.j41(17,"div",5),n.EFF(18,"\n      "),n.j41(19,"button",6),n.bIt("click",function(){n.eBV(t);const a=n.XpG();return n.Njj(a.cancel())}),n.EFF(20,"\n        "),n.nrm(21,"fa-icon",7),n.EFF(22,"\xa0"),n.j41(23,"span",8),n.EFF(24,"Cancelar"),n.k0s(),n.EFF(25,"\n      "),n.k0s(),n.EFF(26,"\n\n      "),n.j41(27,"button",9),n.EFF(28,"\n        "),n.nrm(29,"fa-icon",10),n.EFF(30,"\xa0"),n.j41(31,"span",11),n.EFF(32,"Eliminar"),n.k0s(),n.EFF(33,"\n      "),n.k0s(),n.EFF(34,"\n    "),n.k0s(),n.EFF(35,"\n  "),n.k0s(),n.EFF(36,"\n")}if(2&i){const t=n.XpG();n.R7$(13),n.Y8G("translateValues",n.eq3(2,S,t.user.login)),n.R7$(),n.SpI("\n        \xbfSeguro que quieres eliminar el usuario ",t.user.login,"?\n      ")}}let T=(()=>{class i{constructor(){this.userService=(0,n.WQX)(u.G),this.activeModal=(0,n.WQX)(c.Lw)}cancel(){this.activeModal.dismiss()}confirmDelete(t){this.userService.delete(t).subscribe(()=>{this.activeModal.close("deleted")})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["jhi-user-mgmt-delete-dialog"]],decls:1,vars:1,consts:[["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],["jhiTranslate","entity.delete.title",1,"modal-title"],[1,"modal-body"],["jhiTranslate","userManagement.delete.question",3,"translateValues"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-danger"],["icon","times"],["jhiTranslate","entity.action.delete"]],template:function(e,a){1&e&&n.DNE(0,R,37,4),2&e&&n.vxM(a.user?0:-1)},dependencies:[d.A,E.aY,g.U,p.A,l.YN,l.qT,l.cb,l.cV],encapsulation:2})}}return i})();var G=s(8372),U=s(177);function x(i,r){return this.trackIdentity(r)}const D=()=>["./new"],$=(i,r,t)=>({page:i,totalItems:r,itemsPerPage:t}),h=i=>["./",i,"view"],I=i=>["./",i,"edit"];function X(i,r){if(1&i){const t=n.RV6();n.EFF(0,"\n                  "),n.j41(1,"button",43),n.bIt("click",function(){n.eBV(t);const a=n.XpG().$implicit,o=n.XpG(2);return n.Njj(o.setActive(a,!0))}),n.EFF(2,"\n                    Desactivado\n                  "),n.k0s(),n.EFF(3,"\n                ")}}function A(i,r){if(1&i){const t=n.RV6();n.EFF(0,"\n                  "),n.j41(1,"button",44),n.bIt("click",function(){n.eBV(t);const a=n.XpG().$implicit,o=n.XpG(2);return n.Njj(o.setActive(a,!1))}),n.EFF(2,"\n                    Activado\n                  "),n.k0s(),n.EFF(3,"\n                ")}if(2&i){let t;const e=n.XpG().$implicit,a=n.XpG(2);n.R7$(),n.Y8G("disabled",!a.currentAccount()||(null==(t=a.currentAccount())?null:t.login)===e.login)}}function B(i,r){if(1&i&&(n.EFF(0,"\n                  "),n.j41(1,"div"),n.EFF(2,"\n                    "),n.j41(3,"span",45),n.EFF(4),n.k0s(),n.EFF(5,"\n                  "),n.k0s(),n.EFF(6,"\n                ")),2&i){const t=r.$implicit;n.R7$(4),n.JRh(t)}}function L(i,r){if(1&i){const t=n.RV6();n.EFF(0,"\n            "),n.j41(1,"tr"),n.EFF(2,"\n              "),n.j41(3,"td"),n.EFF(4,"\n                "),n.j41(5,"a",31),n.EFF(6),n.k0s(),n.EFF(7,"\n              "),n.k0s(),n.EFF(8,"\n              "),n.j41(9,"td"),n.EFF(10),n.k0s(),n.EFF(11,"\n              "),n.j41(12,"td"),n.EFF(13),n.k0s(),n.EFF(14,"\n              "),n.j41(15,"td"),n.EFF(16,"\n                "),n.DNE(17,X,4,0)(18,A,4,1),n.k0s(),n.EFF(19,"\n              "),n.j41(20,"td"),n.EFF(21),n.k0s(),n.EFF(22,"\n              "),n.j41(23,"td"),n.EFF(24,"\n                "),n.Z7z(25,B,7,1,null,null,n.Vm6),n.k0s(),n.EFF(27,"\n              "),n.j41(28,"td"),n.EFF(29),n.nI1(30,"date"),n.k0s(),n.EFF(31,"\n              "),n.j41(32,"td"),n.EFF(33),n.k0s(),n.EFF(34,"\n              "),n.j41(35,"td"),n.EFF(36),n.nI1(37,"date"),n.k0s(),n.EFF(38,"\n              "),n.j41(39,"td",32),n.EFF(40,"\n                "),n.j41(41,"div",33),n.EFF(42,"\n                  "),n.j41(43,"button",34),n.EFF(44,"\n                    "),n.nrm(45,"fa-icon",35),n.EFF(46,"\n                    "),n.j41(47,"span",36),n.EFF(48,"Vista"),n.k0s(),n.EFF(49,"\n                  "),n.k0s(),n.EFF(50,"\n\n                  "),n.j41(51,"button",37),n.EFF(52,"\n                    "),n.nrm(53,"fa-icon",38),n.EFF(54,"\n                    "),n.j41(55,"span",39),n.EFF(56,"Editar"),n.k0s(),n.EFF(57,"\n                  "),n.k0s(),n.EFF(58,"\n\n                  "),n.j41(59,"button",40),n.bIt("click",function(){const a=n.eBV(t).$implicit,o=n.XpG(2);return n.Njj(o.deleteUser(a))}),n.EFF(60,"\n                    "),n.nrm(61,"fa-icon",41),n.EFF(62,"\n                    "),n.j41(63,"span",42),n.EFF(64,"Eliminar"),n.k0s(),n.EFF(65,"\n                  "),n.k0s(),n.EFF(66,"\n                "),n.k0s(),n.EFF(67,"\n              "),n.k0s(),n.EFF(68,"\n            "),n.k0s(),n.EFF(69,"\n          ")}if(2&i){let t;const e=r.$implicit,a=n.XpG(2);n.R7$(5),n.Y8G("routerLink",n.eq3(18,h,e.login)),n.R7$(),n.JRh(e.id),n.R7$(4),n.JRh(e.login),n.R7$(3),n.JRh(e.email),n.R7$(4),n.vxM(e.activated?18:17),n.R7$(4),n.JRh(e.langKey),n.R7$(4),n.Dyx(e.authorities),n.R7$(4),n.JRh(n.i5U(30,12,e.createdDate,"dd/MM/yy HH:mm")),n.R7$(4),n.JRh(e.lastModifiedBy),n.R7$(3),n.JRh(n.i5U(37,15,e.lastModifiedDate,"dd/MM/yy HH:mm")),n.R7$(7),n.Y8G("routerLink",n.eq3(20,h,e.login)),n.R7$(8),n.Y8G("routerLink",n.eq3(22,I,e.login)),n.R7$(8),n.Y8G("disabled",!a.currentAccount()||(null==(t=a.currentAccount())?null:t.login)===e.login)}}function P(i,r){if(1&i){const t=n.RV6();n.EFF(0,"\n    "),n.j41(1,"div",8),n.EFF(2,"\n      "),n.j41(3,"table",9),n.EFF(4,"\n        "),n.j41(5,"thead"),n.EFF(6,"\n          "),n.j41(7,"tr",10),n.mxI("sortStateChange",function(a){n.eBV(t);const o=n.XpG();return n.DH7(o.sortState,a)||(o.sortState=a),n.Njj(a)}),n.bIt("sortChange",function(a){n.eBV(t);const o=n.XpG();return n.Njj(o.transition(a))}),n.EFF(8,"\n            "),n.j41(9,"th",11)(10,"span",12),n.EFF(11,"ID"),n.k0s(),n.EFF(12," "),n.nrm(13,"fa-icon",13),n.k0s(),n.EFF(14,"\n            "),n.j41(15,"th",14)(16,"span",15),n.EFF(17,"Login"),n.k0s(),n.EFF(18," "),n.nrm(19,"fa-icon",13),n.k0s(),n.EFF(20,"\n            "),n.j41(21,"th",16)(22,"span",17),n.EFF(23,"Email"),n.k0s(),n.EFF(24," "),n.nrm(25,"fa-icon",13),n.k0s(),n.EFF(26,"\n            "),n.nrm(27,"th",18),n.EFF(28,"\n            "),n.j41(29,"th",19),n.EFF(30,"\n              "),n.j41(31,"span",20),n.EFF(32,"Idioma"),n.k0s(),n.EFF(33," "),n.nrm(34,"fa-icon",13),n.EFF(35,"\n            "),n.k0s(),n.EFF(36,"\n            "),n.j41(37,"th",18)(38,"span",21),n.EFF(39,"Perfiles"),n.k0s()(),n.EFF(40,"\n            "),n.j41(41,"th",22),n.EFF(42,"\n              "),n.j41(43,"span",23),n.EFF(44,"Fecha de creaci\xf3n"),n.k0s(),n.EFF(45," "),n.nrm(46,"fa-icon",13),n.EFF(47,"\n            "),n.k0s(),n.EFF(48,"\n            "),n.j41(49,"th",24),n.EFF(50,"\n              "),n.j41(51,"span",25),n.EFF(52,"Modificado por"),n.k0s(),n.EFF(53," "),n.nrm(54,"fa-icon",13),n.EFF(55,"\n            "),n.k0s(),n.EFF(56,"\n            "),n.j41(57,"th",26),n.EFF(58,"\n              "),n.j41(59,"span",27),n.EFF(60,"Fecha de modificaci\xf3n"),n.k0s(),n.EFF(61," "),n.nrm(62,"fa-icon",13),n.EFF(63,"\n            "),n.k0s(),n.EFF(64,"\n            "),n.nrm(65,"th",18),n.EFF(66,"\n          "),n.k0s(),n.EFF(67,"\n        "),n.k0s(),n.EFF(68,"\n        "),n.j41(69,"tbody"),n.EFF(70,"\n          "),n.Z7z(71,L,70,24,null,null,x,!0),n.k0s(),n.EFF(73,"\n      "),n.k0s(),n.EFF(74,"\n    "),n.k0s(),n.EFF(75,"\n\n    "),n.j41(76,"div"),n.EFF(77,"\n      "),n.j41(78,"div",28),n.EFF(79,"\n        "),n.nrm(80,"jhi-item-count",29),n.EFF(81,"\n      "),n.k0s(),n.EFF(82,"\n\n      "),n.j41(83,"div",28),n.EFF(84,"\n        "),n.j41(85,"ngb-pagination",30),n.mxI("pageChange",function(a){n.eBV(t);const o=n.XpG();return n.DH7(o.page,a)||(o.page=a),n.Njj(a)}),n.bIt("pageChange",function(){n.eBV(t);const a=n.XpG();return n.Njj(a.transition())}),n.k0s(),n.EFF(86,"\n      "),n.k0s(),n.EFF(87,"\n    "),n.k0s(),n.EFF(88,"\n  ")}if(2&i){const t=n.XpG();n.R7$(7),n.R50("sortState",t.sortState),n.R7$(64),n.Dyx(t.users()),n.R7$(9),n.Y8G("params",n.sMw(8,$,t.page,t.totalItems(),t.itemsPerPage)),n.R7$(5),n.Y8G("collectionSize",t.totalItems()),n.R50("page",t.page),n.Y8G("pageSize",t.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let V=(()=>{class i{constructor(){this.currentAccount=(0,n.WQX)(M.D).trackCurrentAccount(),this.users=(0,n.vPA)(null),this.isLoading=(0,n.vPA)(!1),this.totalItems=(0,n.vPA)(0),this.itemsPerPage=_.re,this.sortState=(0,f.q)({}),this.userService=(0,n.WQX)(u.G),this.activatedRoute=(0,n.WQX)(F.nX),this.router=(0,n.WQX)(F.Ix),this.sortService=(0,n.WQX)(b.a),this.modalService=(0,n.WQX)(c.Bq)}ngOnInit(){this.handleNavigation()}setActive(t,e){this.userService.update({...t,activated:e}).subscribe(()=>this.loadAll())}trackIdentity(t){return t.id}deleteUser(t){const e=this.modalService.open(T,{size:"lg",backdrop:"static"});e.componentInstance.user=t,e.closed.subscribe(a=>{"deleted"===a&&this.loadAll()})}loadAll(){this.isLoading.set(!0),this.userService.query({page:this.page-1,size:this.itemsPerPage,sort:this.sortService.buildSortParam(this.sortState(),"id")}).subscribe({next:t=>{this.isLoading.set(!1),this.onSuccess(t.body,t.headers)},error:()=>this.isLoading.set(!1)})}transition(t){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:this.sortService.buildSortParam(t??this.sortState())}})}handleNavigation(){(0,j.z)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,e])=>{const a=e.get("page");this.page=+(a??1),this.sortState.set(this.sortService.parseSortParam(e.get(C.fv)??t.defaultSort)),this.loadAll()})}onSuccess(t,e){this.totalItems.set(Number(e.get("X-Total-Count"))),this.users.set(t)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["jhi-user-mgmt"]],decls:33,vars:5,consts:[["id","user-management-page-heading","data-cy","userManagementPageHeading","jhiTranslate","userManagement.home.title"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","me-2",3,"click","disabled"],["icon","sync",3,"animation"],["jhiTranslate","userManagement.home.refreshListLabel"],[1,"btn","btn-primary","jh-create-entity",3,"routerLink"],["icon","plus"],["jhiTranslate","userManagement.home.createLabel"],[1,"table-responsive"],["aria-describedby","user-management-page-heading",1,"table","table-striped"],["jhiSort","",3,"sortStateChange","sortChange","sortState"],["scope","col","jhiSortBy","id"],["jhiTranslate","global.field.id"],["icon","sort"],["scope","col","jhiSortBy","login"],["jhiTranslate","userManagement.login"],["scope","col","jhiSortBy","email"],["jhiTranslate","userManagement.email"],["scope","col"],["scope","col","jhiSortBy","langKey"],["jhiTranslate","userManagement.langKey"],["jhiTranslate","userManagement.profiles"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","userManagement.createdDate"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","userManagement.lastModifiedBy"],["scope","col","jhiSortBy","lastModifiedDate"],["jhiTranslate","userManagement.lastModifiedDate"],[1,"d-flex","justify-content-center"],[3,"params"],[3,"pageChange","collectionSize","page","pageSize","maxSize","rotate","boundaryLinks"],[3,"routerLink"],[1,"text-end"],[1,"btn-group"],["type","submit",1,"btn","btn-info","btn-sm",3,"routerLink"],["icon","eye"],["jhiTranslate","entity.action.view",1,"d-none","d-md-inline"],["type","submit","queryParamsHandling","merge",1,"btn","btn-primary","btn-sm",3,"routerLink"],["icon","pencil-alt"],["jhiTranslate","entity.action.edit",1,"d-none","d-md-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click","disabled"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"],["jhiTranslate","userManagement.deactivated",1,"btn","btn-danger","btn-sm",3,"click"],["jhiTranslate","userManagement.activated",1,"btn","btn-success","btn-sm",3,"click","disabled"],[1,"badge","bg-info"]],template:function(e,a){1&e&&(n.j41(0,"div"),n.EFF(1,"\n  "),n.j41(2,"h2"),n.EFF(3,"\n    "),n.j41(4,"span",0),n.EFF(5,"Usuarios"),n.k0s(),n.EFF(6,"\n\n    "),n.j41(7,"div",1),n.EFF(8,"\n      "),n.j41(9,"button",2),n.bIt("click",function(){return a.loadAll()}),n.EFF(10,"\n        "),n.nrm(11,"fa-icon",3),n.EFF(12,"\n        "),n.j41(13,"span",4),n.EFF(14,"Refrescar lista"),n.k0s(),n.EFF(15,"\n      "),n.k0s(),n.EFF(16,"\n      "),n.j41(17,"button",5),n.EFF(18,"\n        "),n.nrm(19,"fa-icon",6),n.EFF(20," "),n.j41(21,"span",7),n.EFF(22,"Crear un nuevo usuario"),n.k0s(),n.EFF(23,"\n      "),n.k0s(),n.EFF(24,"\n    "),n.k0s(),n.EFF(25,"\n  "),n.k0s(),n.EFF(26,"\n\n  "),n.nrm(27,"jhi-alert-error"),n.EFF(28,"\n\n  "),n.nrm(29,"jhi-alert"),n.EFF(30,"\n\n  "),n.DNE(31,P,89,12),n.k0s(),n.EFF(32,"\n")),2&e&&(n.R7$(9),n.Y8G("disabled",a.isLoading()),n.R7$(2),n.Y8G("animation",a.isLoading()?"spin":void 0),n.R7$(6),n.Y8G("routerLink",n.lJ4(4,D)),n.R7$(14),n.vxM(a.users()?31:-1))},dependencies:[F.iI,F.Wk,d.A,c.s5,E.aY,G.C,g.U,p.A,U.vh,k._,v.b,y.A],encapsulation:2})}}return i})()}}]);